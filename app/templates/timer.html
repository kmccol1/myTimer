{% extends "base.html" %}
{% block content %}
    <div class="timer-container">
        <!-- Main Timer Display -->
        <div class="main-timer">
            <span id="current-timer" data-duration="0">00:00:00.000</span>
        </div>

        <!-- Timer Controls -->
        <div class="timer-controls">
            <button id="start-btn" onclick="startTimer()">Start</button>
            <button id="stop-btn" onclick="stopTimer()" disabled>Stop</button>
        </div>

        <!-- Timer Length Selection -->
        <form id="timer-form" action="/start" method="POST" class="timer-duration-selection" onsubmit="startTimer(); return false;">
            <label for="duration">Select Timer Length:</label>
            <select name="duration" id="duration" required>
                <option value="60">1 minute</option>
                <option value="300">5 minutes</option>
                <option value="600">10 minutes</option>
                <option value="900">15 minutes</option>
                <option value="1800">30 minutes</option>
                <option value="3600">1 hour</option>
                <option value="7200">2 hours</option>
                <option value="10800">3 hours</option>
                <option value="14400">4 hours</option>
                <option value="21600">6 hours</option>
            </select>
            <button type="submit">Start Timer</button>
        </form>

        <!-- Past Timers Display -->
        <ul>
            {% for timer in timers %}
                <li>
                    Timer #{{ timer.id }} ({{ timer.duration }} seconds)
                    {% if timer.end_time %}
                        - Duration: {{ timer.duration }} seconds
                    {% else %}
                        <span id="timer-{{ timer.id }}" data-duration="{{ timer.duration }}">
                            00:00:00.000
                        </span>
                        <form action="/stop/{{ timer.id }}" method="POST">
                            <button type="submit">Stop</button>
                        </form>
                    {% endif %}
                </li>
            {% endfor %}
        </ul>
    </div>

    <!-- Include JavaScript -->
    <script src="{{ url_for('static', filename='js/timer.js') }}"></script>
{% endblock %}
